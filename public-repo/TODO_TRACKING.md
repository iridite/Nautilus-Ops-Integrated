# TODO 跟踪清单

生成时间: 2026-02-19

## 统计

- **总计**: 4 个 TODO
- **高优先级**: 1 个
- **中优先级**: 0 个
- **低优先级**: 3 个

---

## 🔥 高优先级（本周完成）

### 1. RSI Watcher 参数独立化（WIP）
- **文件**: `strategy/keltner_rs_breakout.py:868`
- **问题**: 当前实现是 WIP 状态，所有币种共享同一个 rsi_watcher 参数
- **方案**: 为每个币种创建独立的 rsi_watcher 参数，避免状态混淆
- **预估时间**: 2-3 小时
- **状态**: [ ] 待处理
- **优先级**: 高（影响多币种策略的正确性）

---

## 💡 低优先级（长期优化）

### 1. 全局 Decimal 精度配置
- **文件**: `strategy/keltner_rs_breakout.py:150`
- **问题**: Decimal 精度配置分散在代码中
- **方案**: 在 `config/constants.py` 中设置全局精度配置
- **预估时间**: 30 分钟
- **状态**: [ ] 待处理
- **备注**: 已在 `config/constants.py` 中添加 `TARGET_PRECISION_DECIMALS = 16`，需要应用到代码中

### 2. 部分止盈功能
- **文件**: `strategy/keltner_rs_breakout.py:872`
- **问题**: 当前只能全部平仓，无法实现部分止盈
- **方案**: 实现部分平仓功能，例如止盈一半仓位
- **预估时间**: 1-2 小时
- **状态**: [ ] 待处理
- **备注**: 需要考虑仓位管理和风险计算的调整

### 3. 基于 initial_risk 的止损计算方式
- **文件**: `strategy/keltner_rs_breakout.py:891`
- **问题**: 当前使用 ATR 方式计算止损，还有基于 initial_risk + risk 的计算方式未实现
- **方案**: 评估两种方式的优劣，考虑是否需要支持多种止损计算方式
- **预估时间**: 2-3 小时（包括回测验证）
- **状态**: [ ] 待处理
- **备注**: 可能需要添加配置选项让用户选择��损计算方式

---

## 已完成

_暂无_

---

## 实施建议

### 立即处理（本周）
1. **RSI Watcher 参数独立化** - 这是 WIP 状态，影响策略正确性，应优先完成

### 短期优化（本月）
1. **全局 Decimal 精度配置** - 快速改进，提升代码一致性
2. **部分止盈功能** - 增强策略灵活性

### 长期规划（季度）
1. **多种止损计算方式** - 需要充分回测验证

---

## 注意事项

- 所有 TODO 都在 `strategy/keltner_rs_breakout.py` 文件中
- 高优先级 TODO 标记为 WIP，说明已经在开发中，应尽快完成
- 低优先级 TODO 都是功能增强，不影响当前策略运行
- 建议在完成每个 TODO 后运行完整的测试套件
