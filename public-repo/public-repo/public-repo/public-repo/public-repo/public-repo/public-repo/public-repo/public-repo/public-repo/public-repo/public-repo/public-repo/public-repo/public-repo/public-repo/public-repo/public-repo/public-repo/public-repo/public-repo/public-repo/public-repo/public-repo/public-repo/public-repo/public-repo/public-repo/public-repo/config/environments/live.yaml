# OKX 实盘环境配置
# 警告：此配置用于真实资金交易，请谨慎使用

extends: "base.yaml"

# 实盘特定配置
live:
  venue: "OKX"
  is_testnet: false

  # 交易标的列表（根据策略动态调整）
  instrument_ids:
    - "ETH-USDT-SWAP.OKX"
    - "SOL-USDT-SWAP.OKX"
    - "BNB-USDT-SWAP.OKX"
    - "DOGE-USDT-SWAP.OKX"

  # 实盘环境不允许缺失 instrument json
  allow_missing_instruments: false

  # API 环境变量名称（主网）
  api_key_env: "OKX_MAINNET_API_KEY"
  api_secret_env: "OKX_MAINNET_API_SECRET"
  api_passphrase_env: "OKX_MAINNET_API_PASSPHRASE"

  # 执行引擎配置
  reconciliation: true
  reconciliation_lookback_mins: 1440
  filter_position_reports: true

  # 缓存配置
  flush_cache_on_start: false

# 交易配置（覆盖 base.yaml）
trading:
  venue: "OKX"
  instrument_type: "SWAP"
  initial_balance: 10000 # 真实资金，根据实际情况调整
  currency: "USDT"

# 日志配置（实盘使用保守的日志级别）
logging:
  level: "INFO"
  file_level: "INFO"
  components:
    TradingNode: "INFO"
    LiveExecEngine: "INFO"
    Strategy: "INFO"
    RiskEngine: "INFO"
    Portfolio: "INFO"
  components_only: true

# 文件清理配置（实盘保留更长时间用于审计）
file_cleanup:
  enabled: true
  use_time_rotation: true
  keep_days: 30
  delete_days: 90
  max_files_per_dir: 200
  target_dirs:
    - "log"
    - "output"
